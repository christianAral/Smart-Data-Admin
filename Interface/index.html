<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Smart Data Admin Tool</title>
  <link rel="icon" href="./favicon.png">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./notifications/notifications.css">
</head>

<body>

<div id="pageSelector">
  <button onclick="sdAdmin.togglePage(this)" data-tab="firewallRules">Firewall Rules</button>
  <button onclick="sdAdmin.togglePage(this)" data-tab="sftpUserManagement">SFTP User Management</button>
  <!-- <button onclick="sdAdmin.togglePage(this)" data-tab="alteryxUserManagement">Alteryx User Management</button> -->
  <button onclick="sdAdmin.togglePage(this)" data-tab="logs">Logs</button>
</div>

<div id="firewallRules" class="tab">
  <h1>SQL Server IP Firewall Rules</h1>
  <button onclick="sc.server.refreshFirewallRules(true)">Refresh Firewall Rules</button>
  <button onclick="sc.server.commitFirewallRules()">Commit Firewall Rules</button>
  <table id="currentRules">
    <thead><th>Name</th><th>Start IP</th><th>End IP</th><th><button onclick="sc.service.DOMHandlers.addNewRule()">Add New Rule</button></th></thead>
    <tbody></tbody>
  </table>
</div>
<div id="sftpUserManagement" class="tab">
  <h1>SFTP User Manager</h1>
  <button id='sftpUserRefresh' onclick="sc.server.listSftpUsers()">Refresh SFTP User List</button>
  <div id="sftpUsers"></div>
</div>
<!-- <div id="alteryxUserManagement" class="tab">
  This is a placeholder alteryx user management tab
</div> -->
<div id="logs" class="tab">
  <h1>Smart Data Admin Log Viewer</h1>
  <select id="logFiles"></select>
  <button onclick="sc.server.loadLog()">Load Log</button>
  <div id="logContents"></div>
</div>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js'></script>
  <script src="./script.js"></script>
  <script src="./server.js"></script>
  <script src="./notifications/notifications.js"></script>
</body>

</html>